const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.NEXT_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {text: "Generate a Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget. Give me a Hotels option list with HotelName , Hotel address, Proce , hotel image url, geo coordinates,rating,descriptions and suggest itinerary with placeName , PlaceDetails, Place Image Url ,Geo Coordinates, ticket Pricing,time_range, Time to travel to each of the location for 3 days with each day plan with best time to visit in JSON format. Time range should be in 12 hours format in IST."},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100 per night\",\n      \"hotelImageUrl\": \"https://www.theD.com/images/hotel/the-d-hotel-exterior.jpg\",\n      \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience, offering a casino, restaurants, and a rooftop pool.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$70-$150 per night\",\n      \"hotelImageUrl\": \"https://www.goldennugget.com/las-vegas/media/images/hotel/golden-nugget-las-vegas-hotel-exterior.jpg\",\n      \"geoCoordinates\": \"36.1695° N, 115.1418° W\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel with a vibrant casino, multiple restaurants, and a famous shark tank.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/media/images/hotel/circus-circus-hotel-exterior.jpg\",\n      \"geoCoordinates\": \"36.1128° N, 115.1723° W\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A family-friendly hotel with a circus theme, a midway, and a variety of budget-friendly dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"time_range\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Explore the vibrant pedestrian mall with its iconic canopy, street performers, and free concerts.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/media/images/freemont-street-experience.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from most downtown hotels\"\n        },\n        {\n          \"time_range\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"Enjoy a unique and quirky dining experience at this themed restaurant known for its calorie-laden burgers.\",\n          \"placeImageUrl\": \"https://www.heartattackgrill.com/images/gallery/heart-attack-grill-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n          \"ticketPricing\": \"Around $15-$25 per person\",\n          \"timeToTravel\": \"5-10 minutes walk from Fremont Street Experience\"\n        },\n        {\n          \"time_range\": \"2:00 PM - 5:00 PM\",\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"Discover the history of Las Vegas through its iconic neon signs.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/images/gallery/neon-museum-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1708° N, 115.1388° W\",\n          \"ticketPricing\": \"$20-$25 per person\",\n          \"timeToTravel\": \"15-20 minutes drive from Heart Attack Grill\"\n        },\n        {\n          \"time_range\": \"5:00 PM - 7:00 PM\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Stroll along this outdoor shopping and dining area with the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.caesars.com/linq/media/images/linq-promenade.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"20-25 minutes drive from Neon Museum\"\n        },\n        {\n          \"time_range\": \"7:00 PM - 9:00 PM\",\n          \"placeName\": \"Free Show at a Casino\",\n          \"placeDetails\": \"Enjoy a free show at one of the casinos on the Strip, such as the Bellagio Fountains or the Mirage Volcano.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/media/images/bellagio-fountains.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from The LINQ Promenade\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"time_range\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Take a day trip to the iconic Hoover Dam, a marvel of engineering.\",\n          \"placeImageUrl\": \"https://www.nps.gov/hove/planyourvisit/images/hoover-dam-from-the-top.jpg\",\n          \"geoCoordinates\": \"36.0000° N, 114.9000° W\",\n          \"ticketPricing\": \"$30 per person\",\n          \"timeToTravel\": \"1 hour drive from Las Vegas\"\n        },\n        {\n          \"time_range\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"Lake Mead National Recreation Area\",\n          \"placeDetails\": \"Enjoy a picnic or a boat ride on Lake Mead, the largest reservoir in the United States.\",\n          \"placeImageUrl\": \"https://www.nps.gov/lame/planyourvisit/images/lake-mead-national-recreation-area.jpg\",\n          \"geoCoordinates\": \"36.0000° N, 114.9000° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"15-20 minutes drive from Hoover Dam\"\n        },\n        {\n          \"time_range\": \"2:00 PM - 5:00 PM\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Hike or drive through the scenic Red Rock Canyon, with its vibrant red rock formations.\",\n          \"placeImageUrl\": \"https://www.blm.gov/sites/blm.gov/files/styles/large/public/images/red-rock-canyon-national-conservation-area.jpg\",\n          \"geoCoordinates\": \"36.1000° N, 115.2000° W\",\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"30-40 minutes drive from Lake Mead\"\n        },\n        {\n          \"time_range\": \"5:00 PM - 7:00 PM\",\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Explore this unique shopping and dining area made from repurposed shipping containers.\",\n          \"placeImageUrl\": \"https://www.downtowncontainerpark.com/images/gallery/downtown-container-park-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1699° N, 115.1423° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"20-25 minutes drive from Red Rock Canyon\"\n        },\n        {\n          \"time_range\": \"7:00 PM - 9:00 PM\",\n          \"placeName\": \"Free Show at a Casino\",\n          \"placeDetails\": \"Enjoy another free show at a casino on the Strip, such as the Wynn's Lake of Dreams or the Venetian's Gondola Rides.\",\n          \"placeImageUrl\": \"https://www.wynnlasvegas.com/media/images/wynn-lake-of-dreams.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"15-20 minutes drive from Downtown Container Park\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"time_range\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"Walk along the iconic Las Vegas Strip, admiring the extravagant hotels and casinos.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/media/images/las-vegas-strip.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from most Strip hotels\"\n        },\n        {\n          \"time_range\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"In-N-Out Burger\",\n          \"placeDetails\": \"Enjoy a classic California burger at this popular fast-food chain.\",\n          \"placeImageUrl\": \"https://www.in-n-out.com/images/gallery/in-n-out-burger-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Around $10-$15 per person\",\n          \"timeToTravel\": \"Walkable from The Strip\"\n        },\n        {\n          \"time_range\": \"2:00 PM - 5:00 PM\",\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Admire the stunning floral displays and seasonal themes at this free attraction.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/media/images/bellagio-conservatory-and-botanical-garden.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from The Strip\"\n        },\n        {\n          \"time_range\": \"5:00 PM - 7:00 PM\",\n          \"placeName\": \"The Venetian and The Palazzo\",\n          \"placeDetails\": \"Explore the luxurious Venetian and Palazzo resorts, with their canals, gondolas, and upscale shopping.\",\n          \"placeImageUrl\": \"https://www.venetian.com/media/images/venetian-and-the-palazzo.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from The Strip\"\n        },\n        {\n          \"time_range\": \"7:00 PM - 9:00 PM\",\n          \"placeName\": \"Free Show at a Casino\",\n          \"placeDetails\": \"Enjoy one last free show at a casino on the Strip, such as the Caesars Palace Roman Forum or the Wynn's Waterfall.\",\n          \"placeImageUrl\": \"https://www.caesars.com/caesars-palace/media/images/caesars-palace-roman-forum.jpg\",\n          \"geoCoordinates\": \"36.1008° N, 115.1723° W\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walkable from The Venetian and The Palazzo\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary is just a suggestion and can be customized based on your interests and preferences.\n* The prices for hotels and attractions are approximate and may vary depending on the season and availability.\n* It's recommended to book your hotel and attractions in advance, especially during peak season.\n* Consider using public transportation or ride-sharing services to get around Las Vegas, as parking can be expensive.\n* Remember to stay hydrated and wear comfortable shoes, as you'll be doing a lot of walking.\n* Have fun and enjoy your trip to Las Vegas!\n"},
      ],
    },
  ],
});

